 


<html lang="en">
<head>
  <meta charset="UTF-8" />
 
  <title>VTS Exam Portal</title>
 {% load static %}

  <link rel="stylesheet" href="{% static 'css/base.css' %}">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <link href="https://fonts.googleapis.com/css2?family=Urbanist&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">

  <!-- Add in your base.html inside <head> -->
<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />



   {% block extra_css %}{% endblock %}
</head>
<body>
  <div class="dashboard-container">
  <div class="sidebar">
    <div class="logo">
      <img src="{% static 'images/logo.png' %}" alt="Logo" />
      <h2>VTS Exam Portal</h2>
    </div>

    <ul class="menu"> 
      {% if user.role in 'admin' %}
      <a href="{% url 'admin_dashboard' %}" class="menu-link">
      <li>
        <img src="{% static 'images/Overview.png' %}" alt=""> Overview </li></a>
    



             
<li class="has-submenu">
  <div class="menu-link">
    <img src="{% static 'images/Design.png' %}" alt="">&nbsp;&nbsp;&nbsp;
    Designing <i class="fas fa-chevron-down submenu-arrow"></i>
  </div>
  <ul class="submenu">
    <li><a href="{% url 'developer_list' %}?role=designer">Designer</a></li>
    <li><a href="{% url 'trainee_list' %}?role=designer_trainee">Trainee Designer</a></li>
  </ul>
</li>
      
     
<li class="has-submenu">
  <div class="menu-link">
    <img src="{% static 'images/Design.png' %}" alt="">&nbsp;&nbsp;&nbsp;
    Development <i class="fas fa-chevron-down submenu-arrow"></i>
  </div> 

  <ul class="submenu">
    <li><a href="{% url 'developer_list' %}?role=developer">Developer</a></li>
    <li><a href="{% url 'trainee_list' %}?role=developer_trainee">Trainee Developer</a></li>
  </ul>
</li>

 
      <a href="{% url 'course_list' %}" class="menu-link">
      <li><img src="{% static 'images/Exam.png' %}" alt=""> Course</li></a>




       <li class="has-submenu">
  <div class="menu-link">
    <img src="{% static 'images/Exam.png' %}" alt="">&nbsp;&nbsp;&nbsp;
    Exams <i class="fas fa-chevron-down submenu-arrow"></i>
  </div>
  <ul class="submenu">
    <li><a href="{% url 'developer_exam' %}">Technical</a></li>
    <li><a href="{% url 'practical_question_list' %}">Practical</a></li>
  </ul>
</li>
        
      <a href="{% url 'developer_result' %}" class="menu-link">
      <li><img src="{% static 'images/result.png' %}" alt=""> Result</li></a>
{% endif %}

<!-- for developer_trainee -->

        {% if user.role == 'developer_trainee'  or user.role == 'designer_trainee' %}

<a href="{% url 'developer_trainee_dashboard' %}" class="menu-link">
      <li>
        <img src="{% static 'images/Overview.png' %}" alt=""> Overview </li></a>

       

        <a href="{% url 'developer_trainee_exam' %}" class="menu-link">
        <li><img src="{% static 'images/Exam.png' %}" alt=""> Exams</li></a>
        
      <a href="{% url 'developer_trainee_all_results' %}" class="menu-link">
      <li><img src="{% static 'images/result.png' %}" alt=""> Result</li></a>


      
    
    
         {% endif %}

         <!-- for developer_trainer   and   designer_trainer  -->

{% if user.role == 'developer' or user.role == 'designer' %}
<a href="{% url 'developer_dashboard' %}" class="menu-link">
      <li>
        <img src="{% static 'images/Overview.png' %}" alt=""> Overview </li></a>

 <a href="{% url 'developer_trainee_card_view' %}" class="menu-link">
        <li><img src="{% static 'images/Design.png' %}" alt=""> Trainees</li></a>
      

       
<li class="has-submenu">
  <div class="menu-link">
    <img src="{% static 'images/Exam.png' %}" alt="">&nbsp;&nbsp;&nbsp;
    Exams <i class="fas fa-chevron-down submenu-arrow"></i>
  </div>
  <ul class="submenu">
    <li><a href="{% url 'exam_list' %}">Technical</a></li>
    <li><a href="{% url 'practical_question_list' %}">Practical</a></li>
  </ul>
</li>

     
    
        
      <a href="{% url 'exam_result_list' %}" class="menu-link">
      <li><img src="{% static 'images/result.png' %}" alt=""> Result</li></a>


    
    
         {% endif %}

    </ul>
  </div>

  <div class="main-content">
    {% block content %}{% endblock %}

    {% if messages %}
  <div class="message-container">
    {% for message in messages %}
      <div class="alert {{ message.tags }}">{{ message }}</div>
    {% endfor %}
  </div>
{% endif %}

  </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<script>
  document.addEventListener("DOMContentLoaded", function () {
  flatpickr("#exam-calendar", {
    inline: true,
    dateFormat: "Y-m-d",
  });
   });
</script>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    flatpickr("input[name='start_date']", {
      dateFormat: "Y/m/d",
       minDate: "today",
      allowInput: true,            // disallow manual typing
      // defaultDate: "today",         // optional: sets today as default
      yearSelectorType: "static",
    });
  });
  document.addEventListener("DOMContentLoaded", function () {
    flatpickr("input[name='dob']", {
      dateFormat: "Y/m/d"
    });
  });
   document.addEventListener("DOMContentLoaded", function () {
    flatpickr("input[name='date']", {
      dateFormat: "Y/m/d",
       minDate: "today",
      allowInput: true,            // disallow manual typing
      // defaultDate: "today",         // optional: sets today as default
      yearSelectorType: "static",
    });
  });
  
</script>
<script>
   document.addEventListener("DOMContentLoaded", function () {
  const openModalBtn = document.getElementById('openModalBtn');
  const closeModalBtn = document.getElementById('closeModalBtn');
  const modalOverlay = document.getElementById('modalOverlay');

  openModalBtn.addEventListener('click', () => {
    modalOverlay.style.display = 'flex';
  });

  closeModalBtn.addEventListener('click', () => {
    modalOverlay.style.display = 'none';
  });

  // Optional: Close when clicking outside modal content
  window.addEventListener('click', (e) => {
    if (e.target === modalOverlay) {
      modalOverlay.style.display = 'none';
    }
  });

  });
   
</script>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const filterBtn = document.querySelector('.filter-btn');
    const closeBtn = document.querySelector('.close');
    const filterModal = document.getElementById('filterModal');

    if (filterBtn && filterModal) {
      filterBtn.addEventListener('click', function (e) {
        e.preventDefault();
        filterModal.style.display = 'block';
      });
    }

    if (closeBtn && filterModal) {
      closeBtn.addEventListener('click', function () {
        filterModal.style.display = 'none';
      });
    }

    // Optional: Close modal on outside click
    window.onclick = function (event) {
      if (filterModal && event.target === filterModal) {
        filterModal.style.display = "none";
      }
    };
  });
</script>

<script>
document.addEventListener("DOMContentLoaded", () => {
  console.log("Trainer form validation script loaded âœ…");

  document.querySelectorAll('.trainer-form input, .trainer-form select, .trainer-form textarea').forEach(field => {
    // Trigger on input
    field.addEventListener('input', () => {
      const errorDiv = document.getElementById(field.id + '-error');
      if (errorDiv) {
        errorDiv.textContent = '';
        console.log("Cleared error for:", field.id);
      }
    });

    // Optional: also clear on focus (in case needed)
    field.addEventListener('focus', () => {
      const errorDiv = document.getElementById(field.id + '-error');
      if (errorDiv) {
        errorDiv.textContent = '';
      }
    });
  });
});
</script>
<script>
function openTraineeModal(name, gender, dob, classMode, course, trainer, startDate, endDate, address, status, dateJoined, imageUrl) {
    document.getElementById('modalName').innerText = name;
    document.getElementById('modalGender').innerText = gender;
    document.getElementById('modalDob').innerText = dob;
    document.getElementById('modalClassMode').innerText = classMode;
    document.getElementById('modalCourse').innerText = course;
    document.getElementById('modalTrainer').innerText = trainer;
    document.getElementById('modalStartDate').innerText = startDate;
    document.getElementById('modalEndDate').innerText = endDate || 'N/A';
    document.getElementById('modalAddress').innerText = address;
    document.getElementById('modalStatus').innerText = status;
    // document.getElementById('modalDateJoined').innerText = dateJoined;
    document.getElementById('modalImage').src = imageUrl;

    document.getElementById("traineeModal").style.display = "block";
}

function closeModal() {
    document.getElementById("traineeModal").style.display = "none";
}

</script>

 <script>
  const fileInput = document.getElementById("file-upload");
  const fileStatus = document.getElementById("file-status");

 
  const allowedTypes = ["application/pdf", 
                        "application/vnd.openxmlformats-officedocument.wordprocessingml.document", 
                        "application/msword"];
  // const maxSize = 10 * 1024 * 1024; // 10MB
   const maxSize =10486784; // 10MB

  console.log("maxSize", maxSize)
  fileInput.addEventListener("change", () => {
    fileStatus.innerHTML = ""; 
    const file = fileInput.files[0];

    if (!file) return;

    if (!allowedTypes.includes(file.type)) {
      fileStatus.style.color = "red";
      fileStatus.innerHTML = " Unsupported file type. Please upload PDF, DOCX, or DOC.";
      fileInput.value = "";
      return;
    }
  console.log("file.size", file.size)

    // Validate file size
    if (file.size > maxSize) {
      fileStatus.style.color = "red";
      fileStatus.innerHTML = `File is too large. Maximum allowed size is 10MB. <b>${file.name}</b> (${(file.size/1024/1024).toFixed(2)} MB)`;
      fileInput.value = "";
      return;
    }

    // Success
    fileStatus.style.color = "green";
    fileStatus.innerHTML = ` File uploaded: <b>${file.name}</b> (${(file.size/1024/1024).toFixed(2)} MB)`;
  });
</script>


 <!-- <script>
  const fileInput = document.getElementById("file-upload");
  const fileStatus = document.getElementById("file-status");

  
  const allowedTypes = [
    "application/pdf",
    "application/vnd.openxmlformats-officedocument.wordprocessingml.document",
    "application/msword"
  ];

 
  const maxSize = 10 * 1000 * 1000;

  fileInput.addEventListener("change", () => {
    fileStatus.innerHTML = ""; 
    const file = fileInput.files[0];
    if (!file) return;

    
    if (!allowedTypes.includes(file.type)) {
      fileStatus.style.color = "red";
      fileStatus.innerHTML = "Unsupported file type. Please upload PDF, DOCX, or DOC.";
      fileInput.value = "";
      return;
    }

    if (file.size > maxSize) {
      fileStatus.style.color = "red";
      fileStatus.innerHTML = `File is too large. Maximum allowed size is 10MB. <b>${file.name}</b> (${(file.size/1000/1000).toFixed(2)} MB)`;
      fileInput.value = "";
      return;
    }

    fileStatus.style.color = "green";
    fileStatus.innerHTML = `File uploaded: <b>${file.name}</b> (${(file.size/1000/1000).toFixed(2)} MB)`;
  });
</script> -->

<!-- Add before closing </body> -->
 <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        $('.select2').select2({
            width: '100%',         // Full width
            dropdownAutoWidth: true,
            placeholder: "Select an option",
            allowClear: true,      // Adds clear "x" button
        });
    });
</script>

{% block extra_js %}{% endblock %}
</body>
</html>

    <!-- {% if user.role in 'admin designer' %}
      {% endif %}
        {% if user.role in 'admin developer' %}
        {% endif %}
         {% if user.role not in 'designer_trainee developer_trainee' %}
      {% endif %} -->